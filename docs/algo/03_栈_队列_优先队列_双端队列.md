# 栈、队列、优先队列、双端队列

## 概念

Stack 先进后出，添加，删除都是 O(1)，查询是 O(N)
Queue 先进先出，添加、删除都是 O(1)，查询是 O(N)

工程中一般用 双端队列 Deque(Double-End Queue)，头尾都可以出和入。添加删除都是 O(1)，查询是 O(N)。

工程实现

查询 Stack 等接口实现
google 搜索 stack java 12 、java source stack download/source java stack

栈的方法

```
class Stack{
    boolean empty()
    E       peek()   查看栈顶元素
    E       pop()
    E       push(E item)
    int     search(Object o)
}
```

queue 是一个接口

```
interface Queue{
    // 有异常会抛出异常
    add()
    remove()
    element()

    // 有异常会返回一个值
    offer(e)
    poll()
    peek()
}
```

优先队列 PriorityQueue
插入操作 O(1)
取出操作 O(logN) 好处: 按照元素的优先级取出
底层具体实现多种多样和复杂，可以是 heap、bst、treap

Vector 可变数组

## 题目

### 20. 有效的括号

题目：[https://leetcode-cn.com/problems/valid-parentheses/](https://leetcode-cn.com/problems/valid-parentheses/)

罗列解法：

- 暴力法
- 使用栈

```py
class Solution(object):
    def isValid2(self, s):
        l = []
        for i in s:
            if i == '(':
                l.append(')')
            elif i == '{':
                l.append('}')
            elif i == '[':
                l.append(']')
            elif len(l) and i == l[-1]:
                l.pop(-1)
            else:
                return False
        return False if len(l) else True
```

## 参考链接

- [Java 的 PriorityQueue 文档](https://docs.oracle.com/javase/10/docs/api/java/util/PriorityQueue.html)
- [Java 的 Stack 源码](http://developer.classpath.org/doc/java/util/Stack-source.html)
- [Java 的 Queue 源码](http://fuseyism.com/classpath/doc/java/util/Queue-source.html)
- [Python 的 heapq](https://docs.python.org/2/library/heapq.html)
- [高性能的 container 库](https://docs.python.org/2/library/collections.html)

预习题目
https://leetcode-cn.com/problems/valid-parentheses/
https://leetcode-cn.com/problems/min-stack/
实战题目
https://leetcode-cn.com/problems/largest-rectangle-in-histogram
https://leetcode-cn.com/problems/sliding-window-maximum
课后作业
 用 add first 或 add last 这套新的 API 改写 Deque 的代码
 分析 Queue 和 Priority Queue 的源码
https://leetcode.com/problems/design-circular-deque
https://leetcode.com/problems/trapping-rain-water/
说明：改写代码和分析源码这两项作业，同学们需要在第 1 周的学习总结中完成。如果不熟悉 Java 语言，这两项作业可选做。
