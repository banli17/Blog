(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{279:function(a,s,t){"use strict";t.r(s);var e=t(0),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"趣谈-linux-笔记"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#趣谈-linux-笔记","aria-hidden":"true"}},[a._v("#")]),a._v(" 趣谈 linux 笔记")]),a._v(" "),t("h2",{attrs:{id:"用户和密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户和密码","aria-hidden":"true"}},[a._v("#")]),a._v(" 用户和密码")]),a._v(" "),t("p",[a._v("linux root 密码是安装时设置的，可以使用 passwd 命令进行修改。")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# passwd")]),a._v("\n")])])]),t("p",[a._v("创建用户 useradd，可以通过 -g 指定用户组。")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# useradd banli")]),a._v("\n\n")])])]),t("p",[a._v("创建的用户都在 /etc/passwd 文件里。")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cat /etc/passwd")]),a._v("\n\nxiaoli:x:1008:1008::/home/xiaoli:/bin/bash\n")])])]),t("p",[a._v("x 是密码，2 个 1008 分别是用户 ID 和用户组 ID。/home/xiaoli 是用户的主目录。即登录后进行的目录。/bin/bash 是登录进入后默认交互命令行(window 是 explorer.exe)。")]),a._v(" "),t("p",[a._v("组信息放在 /etc/group 文件中。")]),a._v(" "),t("h2",{attrs:{id:"浏览文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浏览文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 浏览文件")]),a._v(" "),t("ul",[t("li",[a._v("ls, list")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("\n~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ls -l")]),a._v("\ndrwxr-xr-x  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" root root         "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),a._v(" Jan  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("7")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":27 a\n-rw-------. "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" root root      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1241")]),a._v(" Apr "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v(" anaconda-ks.cfg\n")])])]),t("p",[a._v("第一个字段是文件类型，- 表示普通文件，d 表示目录。\n后面 9 个字符是模式，即权限位，3 个一组，每组用 rwx 表示，分别是用户权限、文件所属组权限以及其它用户的权限。改变权限可以用"),t("code",[a._v("chmod 711 anaconda-ks.cfg")]),a._v("。")]),a._v(" "),t("p",[a._v("第二个字段是硬链接数目。\n第三个字段是所属用户，第四个字段是所属组，第五个字段是文件大小，第六个字段是文件被修改的日期，最后是文件名。")]),a._v(" "),t("p",[a._v("可以用 chown 改变所属用户，chgrp 改变所属组。")]),a._v(" "),t("h2",{attrs:{id:"安装软件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装软件","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装软件")]),a._v(" "),t("p",[a._v("linux 安装包有 rpm(centeos)、deb(ubuntu)格式。安装命令如下。-i 表示 install。")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# centeos")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -i jdk-xxx_linux-x64_bin.rpm\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ubuntu")]),a._v("\ndpkg -i jdk-XXX_linux-x64_bin.deb\n")])])]),t("p",[a._v("查看安装的软件列表。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# 显示安装软件列表\nrpm -qa和dpkg -l\n\n# 分页显示，more 只能往后翻，less 能往前后翻，q退出\nrpm -qa | more和rpm -qa | less\n")])])]),t("p",[a._v("-q query a all -l list")]),a._v(" "),t("p",[a._v("搜索安装的软件。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rpm -qa | grep jdk\n")])])]),t("p",[a._v("删除安装的软件。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# -e 表示erase\nrpm -e\n# -r 表示 remove\ndpkg -r\n")])])]),t("p",[a._v("软件管家：yum(centeos)、apt-get(ubuntu)。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# 搜索可以安装的 jdk 版本， 如果太多，可以用 grep more less 过滤\nyum search jdk\napt-cache search jdk\n\n# 安装\nyum install java-11-openjdk.x86_64\napt-get install openjdk-9-jdk\n\n# 卸载\nyum erase java-11-openjdk.x86_64\napt-get purge openjdk-9-jdk\n")])])]),t("p",[a._v("/etc/yum.repos.d/CentOS-Base.repo 可以配置下载源地址。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("[base]\nname=CentOS-$releasever - Base - 163.com\nbaseurl=http://mirrors.163.com/centos/$releasever/os/$basearch/\ngpgcheck=1\ngpgkey=http://mirrors.163.com/centos/RPM-GPG-KEY-CentOS-7\n")])])]),t("p",[a._v("下载")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("wget url\n")])])]),t("p",[a._v("解压：linux 默认有 tar 程序，如果是 zip，就需要安装解压软件。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yum install zip.x86_64 unzip.x86_64\n")])])]),t("p",[a._v("如果是 tar.gz 格式，可以通过下面命令解压")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("tar xvzf jdk-XXX_linux-x64_bin.tar.gz\n")])])]),t("p",[a._v("环境变量")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# 临时有用，登录退出就失效\nexport JAVA_HOME=/root/jdk-XXX_linux-x64\nexport PATH=$JAVA_HOME/bin:$PATH\n\n# 用户主目录下 .bashrc 文件，ls -al查看，每次登录时，这个文件会运行，也可以source .bashrc 手动执行。\n")])])]),t("p",[a._v("运行程序")]),a._v(" "),t("ol",[t("li",[a._v("shell 交互执行")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("./vim a.txt\n")])])]),t("p",[a._v("输出直接显示在界面上。")]),a._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[a._v("后台运行")])]),a._v(" "),t("p",[a._v("nohup 命令， no hang up(不挂起), 加 & 表示后台运行。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\n")])])]),t("p",[a._v("输出到保存到文件最好，")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("nohup command > out.file 2>&1 &\n")])])]),t("p",[a._v("1 表示文件描述符 1，表示标准输出，2 表示文件描述符 2，意思是标准错误输出， 2>&1 表示标准输出和错误输出合并。")]),a._v(" "),t("p",[a._v("关闭进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ps -ef |grep 关键字 |awk '{print $2}' |xargs kill -9\n")])])]),t("p",[a._v("ps -ef 列出正在运行的程序， awk '{print $2}'表示第二列的内容，是运行的程序 ID， 通过 xargs 传递给 kill -9，让它关闭。 如果知道程序 ID，可以直接通过 kill 关闭。")]),a._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[a._v("以服务方式运行，如 MySQL，MySQL 被 Oracle 收购后，因为担心授权问题，改为使用 MariaDB，它是 MySQL 的一个分支。")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# 安装\nyum install mariadb-server mariadb\n# 启动\nsystemctl start mariadb\n# 设置开机启动\nsystemctl enable mariadb\n")])])]),t("p",[a._v("它会在 /usr/lib/systemd/system 目录下，创建一个 XXX.service 的配置文件，从而成为一个服务。")]),a._v(" "),t("p",[a._v("关机和重启")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("shutdown -h now\nreboot\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);